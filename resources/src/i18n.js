const translations = {
    en: {
        // 主页翻译
        "title": "Resource Collection and Activation Tools",
        "card1.title": "Active Management of Activation Tools",
        "card1.description": "This position provides management and updates for activation tools, responding promptly to user needs for updated resources, ensuring compatibility across different Windows versions.",
        "card2.title": "User Feedback and Problem Resolution",
        "card2.description": "Users often leave comments about activation issues and other concerns. Site management provides immediate comprehensive solutions, creating an interactive and supportive community.",
        "card3.title": "Resource Security Considerations",
        "card3.description": "The platform emphasizes security, ensuring all shared resources are tested for viruses and malware, and alerts users to potential conflicts with built-in security software.",
        "card4.title": "Dynamic Resource Links and User Accessibility",
        "card4.description": "Users can easily browse the resource platform through public links and quickly access updated resources, enhancing user experience and convenience.",

        // 反馈页面翻译
        "feedback.title": "Feedback and Solutions",
        "feedback.header": "Problem Feedback",
        "feedback.placeholder": "Please describe the issue you encountered...",
        "feedback.submit": "Submit Feedback",
        "feedback.history": "History Issues",
        "feedback.back": "Back to Home",
        "feedback.recommended": "Recommended Tools",
        "feedback.status.success": "Feedback submitted successfully!",
        "feedback.status.error": "Error submitting feedback. Please try again.",

        // 安全页面翻译
        "security.title": "Internet Security Tips",
        "security.header": "Internet Security Tips",
        "security.back": "Back to Home",
        
        "security.password.title": "Password Security",
        "security.password.description": "Learn how to create and manage strong passwords to protect your accounts.",
        "security.password.modal.title": "Detailed Password Security Guide",
        "security.password.modal.content": `
            <h3>Password Best Practices:</h3>
            <ul>
                <li>Use at least 12 characters</li>
                <li>Include numbers, symbols, and both upper and lowercase letters</li>
                <li>Avoid using personal information</li>
                <li>Don't use keyboard patterns or common phrases</li>
                <li>Use different passwords for different accounts</li>
                <li>Change passwords regularly (every 3 months recommended)</li>
                <li>Use a password manager</li>
                <li>Enable two-factor authentication when available</li>
            </ul>
        `,

        "security.antivirus.title": "Antivirus Protection",
        "security.antivirus.description": "Learn how to protect your devices from viruses and malware.",
        "security.antivirus.modal.title": "Antivirus Protection Guide",
        "security.antivirus.modal.content": `
            <h3>Antivirus Protection Tips:</h3>
            <ul>
                <li>Install reputable antivirus software</li>
                <li>Keep your antivirus updated</li>
                <li>Run regular system scans</li>
                <li>Be careful when downloading files</li>
                <li>Don't open suspicious email attachments</li>
                <li>Keep your operating system updated</li>
                <li>Use a firewall</li>
                <li>Back up important files regularly</li>
            </ul>
        `,

        "security.privacy.title": "Privacy Protection",
        "security.privacy.description": "Important tips for protecting your personal information and online privacy.",
        "security.privacy.modal.title": "Privacy Protection Guide",
        "security.privacy.modal.content": `
            <h3>Privacy Protection Measures:</h3>
            <ul>
                <li>Be careful what you share on social media</li>
                <li>Regularly check privacy settings</li>
                <li>Use a VPN when necessary</li>
                <li>Clear browsing history and cookies regularly</li>
                <li>Use private browsing mode</li>
                <li>Disable unnecessary location services</li>
                <li>Be careful with third-party app permissions</li>
                <li>Monitor account login history</li>
            </ul>
        `,

        "security.update.title": "System Updates",
        "security.update.description": "Keep your system and software updated for optimal security.",
        "security.update.modal.title": "System Update Guide",
        "security.update.modal.content": `
            <h3>Update Guidelines:</h3>
            <ul>
                <li>Enable automatic updates</li>
                <li>Check for updates regularly</li>
                <li>Update all software, not just the operating system</li>
                <li>Back up your data before major updates</li>
                <li>Only download updates from official sources</li>
            </ul>
        `,

        // 状态页面翻译
        "status.title": "System Status Monitor",
        "status.server": "Server Status",
        "status.checking": "Checking...",
        "status.connected": "Connected Clients: ",
        "status.uptime": "Uptime: ",
        "status.updates": "Recent Updates",
        "status.online": "Online",
        "status.offline": "Offline",

        // DeepSeek客服相关翻译
        "deepseek.logs.initialized": "DeepSeek chat widget initialized",
        "deepseek.logs.initFailed": "Failed to initialize DeepSeek chat widget:",
        "deepseek.errors.initFailed": "Chat system initialization failed, please try again later",
        "deepseek.openChat": "Open customer service chat",
        "deepseek.closeChat": "Close chat window",
        "deepseek.title": "Online Customer Service"
    },
    zh: {
        // 主页翻译
        "title": "资源收集和激活工具更新",
        "card1.title": "激活工具的主动管理",
        "card1.description": "该岗位提供管理和更新激活工具，及时响应用户对更新资源的需求，确保不同 Windows 版本的兼容可访问性。",
        "card2.title": "用户反馈和问题解决",
        "card2.description": "用户经常会留下有关激活问题和其他疑虑的评论，网站管理会立即提供完善的解决方案，从而创建一个互动且相互支持的社区。",
        "card3.title": "资源安全注意事项",
        "card3.description": "该平台强调安全性，确保所有共享资源都经过病毒和恶意软件测试，并提醒用户注意可能干扰内置安全软件的潜在冲突。",
        "card4.title": "动态资源链接和用户可访问性",
        "card4.description": "用户可以通过公共链接轻松浏览资源平台，快速访问已更新的资源，从而增强用户体验和便利性。",

        // 反馈页面翻译
        "feedback.title": "问题反馈与解决",
        "feedback.header": "问题反馈",
        "feedback.placeholder": "请描述您遇到的问题...",
        "feedback.submit": "提交反馈",
        "feedback.history": "历史问题",
        "feedback.back": "返回主页",
        "feedback.recommended": "推荐工具",
        "feedback.status.success": "反馈提交成功！",
        "feedback.status.error": "提交反馈失败，请重试。",

        // 安全页面翻译
        "security.title": "互联网安全提示",
        "security.header": "互联网安全提示",
        "security.back": "返回主页",
        
        "security.password.title": "密码安全",
        "security.password.description": "了解如何创建和管理强密码来保护您的账户。",
        "security.password.modal.title": "密码安全详细指南",
        "security.password.modal.content": `
            <h3>创建强密码的原则：</h3>
            <ul>
                <li>使用至少12个字符的密码</li>
                <li>混合使用大小写字母、数字和特殊符号</li>
                <li>避免使用个人信息（生日、姓名等）</li>
                <li>不要使用键盘规律或常见词组</li>
                <li>为不同账户使用不同密码</li>
                <li>定期更换密码（建议每3个月）</li>
                <li>使用密码管理器</li>
                <li>开启双因素认证（如果可用）</li>
            </ul>
        `,

        "security.antivirus.title": "病毒防护",
        "security.antivirus.description": "了解如何保护您的设备免受病毒和恶意软件的侵害。",
        "security.antivirus.modal.title": "病毒防护指南",
        "security.antivirus.modal.content": `
            <h3>病毒防护要点：</h3>
            <ul>
                <li>安装可靠的防病毒软件</li>
                <li>保持防病毒软件更新</li>
                <li>定期进行系统扫描</li>
                <li>下载文件时要谨慎</li>
                <li>不要打开可疑的邮件附件</li>
                <li>及时更新操作系统</li>
                <li>使用防火墙</li>
                <li>定期备份重要文件</li>
            </ul>
        `,

        "security.privacy.title": "隐私保护",
        "security.privacy.description": "保护您的个人信息和在线隐私的重要提示。",
        "security.privacy.modal.title": "隐私保护指南",
        "security.privacy.modal.content": `
            <h3>保护个人隐私的措施：</h3>
            <ul>
                <li>谨慎分享个人信息在社交媒体</li>
                <li>定期检查隐私设置</li>
                <li>必要时使用VPN</li>
                <li>定期清理浏览记录和Cookie</li>
                <li>使用隐私浏览模式</li>
                <li>关闭不必要的位置服务</li>
                <li>谨慎使用第三方应用授权</li>
                <li>监控账户登录记录</li>
            </ul>
        `,

        "security.update.title": "系统更新",
        "security.update.description": "保持系统和软件更新以确保最佳安全性。",
        "security.update.modal.title": "系统更新指南",
        "security.update.modal.content": `
            <h3>更新指南：</h3>
            <ul>
                <li>启用自动更新</li>
                <li>定期检查更新</li>
                <li>更新所有软件，不仅是操作系统</li>
                <li>重要更新前备份数据</li>
                <li>仅从官方源下载更新</li>
            </ul>
        `,

        // 状态页面翻译
        "status.title": "系统状态监控",
        "status.server": "服务器状态",
        "status.checking": "检查中...",
        "status.connected": "已连接客户端: ",
        "status.uptime": "运行时间: ",
        "status.updates": "最近更新",
        "status.online": "在线",
        "status.offline": "离线",

        // DeepSeek客服相关翻译
        "deepseek.logs.initialized": "DeepSeek客服聊天窗口已加载",
        "deepseek.logs.initFailed": "初始化DeepSeek客服聊天窗口失败:",
        "deepseek.errors.initFailed": "客服系统初始化失败，请稍后再试",
        "deepseek.openChat": "打开客服聊天",
        "deepseek.closeChat": "关闭聊天窗口",
        "deepseek.title": "在线客服"
    }
};

// 获取浏览器语言
function getBrowserLanguage() {
    const language = navigator.language || navigator.userLanguage;
    return language.startsWith('zh') ? 'zh' : 'en';
}

// 初始化语言
let currentLanguage = localStorage.getItem('language') || getBrowserLanguage();

// 更新页面文本
function updateContent() {
    document.documentElement.lang = currentLanguage;
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });

    // 更新 placeholder
    const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
    placeholderElements.forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[currentLanguage][key]) {
            element.placeholder = translations[currentLanguage][key];
        }
    });
    
    // 更新HTML内容
    const htmlElements = document.querySelectorAll('[data-i18n-html]');
    htmlElements.forEach(element => {
        const key = element.getAttribute('data-i18n-html');
        if (translations[currentLanguage][key]) {
            element.innerHTML = translations[currentLanguage][key];
        }
    });
}

// 切换语言
function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    updateContent();
}

// 翻译函数
function t(key, fallback) {
    return translations[currentLanguage][key] || fallback || key;
}

const i18n = {
    translations,
    updateContent,
    switchLanguage: changeLanguage,
    currentLanguage,
    t
};

export { updateContent, changeLanguage as switchLanguage, currentLanguage, t };
export default i18n;
