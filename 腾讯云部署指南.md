# è…¾è®¯äº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†Trae.aiæŽ¨å¹¿ç½‘ç«™éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šã€‚

## ðŸ“‹ å‰ç½®å‡†å¤‡

### 1. è…¾è®¯äº‘æœåŠ¡å™¨
- **è§„æ ¼æŽ¨è**ï¼š2æ ¸4GBå†…å­˜èµ·æ­¥
- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 20.04 LTS æˆ– Ubuntu 22.04 LTS
- **å¸¦å®½**ï¼šå»ºè®®5Mbpsä»¥ä¸Š
- **å­˜å‚¨**ï¼š50GB SSD

### 2. åŸŸåï¼ˆå¯é€‰ä½†æŽ¨èï¼‰
- å·²è´­ä¹°çš„åŸŸåï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰
- ç”¨äºŽé…ç½®è‡ªå®šä¹‰åŸŸåå’ŒSSLè¯ä¹¦

## ðŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šè¿žæŽ¥åˆ°æœåŠ¡å™¨

```bash
# ä½¿ç”¨SSHè¿žæŽ¥åˆ°æ‚¨çš„è…¾è®¯äº‘æœåŠ¡å™¨
ssh root@YOUR_SERVER_IP
```

### ç¬¬äºŒæ­¥ï¼šæ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…å¿…è¦è½¯ä»¶

```bash
# æ›´æ–°ç³»ç»ŸåŒ…
apt update && apt upgrade -y

# å®‰è£…å¿…è¦è½¯ä»¶
apt install -y nginx curl wget git unzip
```

### ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ ç½‘ç«™æ–‡ä»¶

#### æ–¹æ³•Aï¼šä½¿ç”¨SCPä¸Šä¼ ï¼ˆæŽ¨èï¼‰
```bash
# åœ¨æœ¬åœ°Windows/Mac/Linuxç»ˆç«¯æ‰§è¡Œ
scp index.html root@YOUR_SERVER_IP:/var/www/html/
```

#### æ–¹æ³•Bï¼šåœ¨æœåŠ¡å™¨ä¸Šç›´æŽ¥åˆ›å»ºæ–‡ä»¶
```bash
# ç™»å½•æœåŠ¡å™¨åŽæ‰§è¡Œ
mkdir -p /var/www/trae-promo
cd /var/www/trae-promo

# ä½¿ç”¨nanoæˆ–vimåˆ›å»ºæ–‡ä»¶
nano index.html
# ç„¶åŽå°†index.htmlçš„å†…å®¹ç²˜è´´è¿›åŽ»ï¼Œä¿å­˜é€€å‡º
```

### ç¬¬å››æ­¥ï¼šé…ç½®Nginx

```bash
# åˆ›å»ºç½‘ç«™é…ç½®æ–‡ä»¶
cat > /etc/nginx/sites-available/trae-promo << 'EOF'
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    root /var/www/trae-promo;
    index index.html;

    # GzipåŽ‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    # å®‰å…¨å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    location / {
        try_files $uri $uri/ =404;
    }
}
EOF

# å¯ç”¨ç½‘ç«™é…ç½®
ln -s /etc/nginx/sites-available/trae-promo /etc/nginx/sites-enabled/

# åˆ é™¤é»˜è®¤é…ç½®
rm -f /etc/nginx/sites-enabled/default

# æµ‹è¯•é…ç½®
nginx -t

# é‡å¯nginx
systemctl restart nginx
systemctl enable nginx
```

### ç¬¬äº”æ­¥ï¼šé…ç½®é˜²ç«å¢™

```bash
# é…ç½®UFWé˜²ç«å¢™
ufw allow 22    # SSH
ufw allow 80    # HTTP
ufw allow 443   # HTTPSï¼ˆåŽç»­SSLè¯ä¹¦éœ€è¦ï¼‰
ufw --force enable
```

### ç¬¬å…­æ­¥ï¼šè®¾ç½®æ–‡ä»¶æƒé™

```bash
# è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æƒé™
chown -R www-data:www-data /var/www/trae-promo
chmod -R 755 /var/www/trae-promo
```

## ðŸŒ åŸŸåé…ç½®

### å¦‚æžœæ‚¨æœ‰åŸŸåï¼Œè¯·è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š

1. **DNSè§£æžè®¾ç½®**
   - ç™»å½•æ‚¨çš„åŸŸåæä¾›å•†æŽ§åˆ¶å°
   - æ·»åŠ Aè®°å½•ï¼š
     - ä¸»æœºè®°å½•ï¼š@ æˆ– www
     - è®°å½•å€¼ï¼šæ‚¨çš„è…¾è®¯äº‘æœåŠ¡å™¨å…¬ç½‘IP
     - TTLï¼š600ï¼ˆç§’ï¼‰

2. **ç­‰å¾…DNSç”Ÿæ•ˆ**
   - é€šå¸¸éœ€è¦å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶
   - å¯ä»¥ä½¿ç”¨ `nslookup your-domain.com` æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ

## ðŸ”’ HTTPSé…ç½®ï¼ˆæŽ¨èï¼‰

### ä½¿ç”¨Let's Encryptå…è´¹SSLè¯ä¹¦ï¼š

```bash
# å®‰è£…Certbot
apt install -y certbot python3-certbot-nginx

# èŽ·å–SSLè¯ä¹¦
certbot --nginx -d your-domain.com -d www.your-domain.com

# è®¾ç½®è‡ªåŠ¨ç»­æœŸ
echo "0 12 * * * /usr/bin/certbot renew --quiet" | crontab -
```

## ðŸ“Š æ€§èƒ½ä¼˜åŒ–

### å¯ç”¨è…¾è®¯äº‘CDNï¼ˆå¯é€‰ï¼‰

1. ç™»å½•è…¾è®¯äº‘CDNæŽ§åˆ¶å°
2. æ·»åŠ åŸŸååŠ é€Ÿ
3. æºç«™åœ°å€å¡«å†™æ‚¨çš„æœåŠ¡å™¨IP
4. å¼€å¯ç¼“å­˜ä¼˜åŒ–å’ŒåŽ‹ç¼©åŠŸèƒ½

### Nginxæ€§èƒ½è°ƒä¼˜

```bash
# ç¼–è¾‘nginxä¸»é…ç½®
nano /etc/nginx/nginx.conf

# åœ¨httpå—ä¸­æ·»åŠ ä»¥ä¸‹ä¼˜åŒ–é…ç½®ï¼š
worker_processes auto;
worker_connections 1024;

# é‡å¯nginxä½¿é…ç½®ç”Ÿæ•ˆ
systemctl restart nginx
```

## ðŸ” æµ‹è¯•éªŒè¯

### æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

```bash
# æœ¬åœ°æµ‹è¯•
curl -I http://localhost

# å¤–éƒ¨æµ‹è¯•ï¼ˆåœ¨æ‚¨çš„ç”µè„‘æµè§ˆå™¨è®¿é—®ï¼‰
# http://YOUR_SERVER_IP
# æˆ– http://your-domain.com
```

### æ£€æŸ¥NginxçŠ¶æ€ï¼š

```bash
systemctl status nginx
nginx -t  # æµ‹è¯•é…ç½®æ–‡ä»¶
```

## ðŸ“ˆ ç›‘æŽ§å’Œç»´æŠ¤

### è®¾ç½®æ—¥å¿—ç›‘æŽ§

```bash
# æŸ¥çœ‹è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log
```

### å®šæœŸæ›´æ–°

```bash
# åˆ›å»ºæ›´æ–°è„šæœ¬
cat > /root/update-website.sh << 'EOF'
#!/bin/bash
echo "å¼€å§‹æ›´æ–°ç½‘ç«™..."
# è¿™é‡Œæ·»åŠ æ‚¨çš„æ›´æ–°é€»è¾‘
echo "æ›´æ–°å®Œæˆï¼"
EOF

chmod +x /root/update-website.sh

# è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¯é€‰ï¼‰
# ç¼–è¾‘crontabï¼šcrontab -e
# æ·»åŠ ï¼š0 2 * * 1 /root/update-website.sh
```

## ðŸ†˜ å¸¸è§é—®é¢˜è§£å†³

### 1. ç½‘ç«™æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥nginxçŠ¶æ€
systemctl status nginx

# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
netstat -tlnp | grep :80

# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
ufw status
```

### 2. 403 Forbiddené”™è¯¯
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /var/www/trae-promo/

# é‡æ–°è®¾ç½®æƒé™
chown -R www-data:www-data /var/www/trae-promo
chmod -R 755 /var/www/trae-promo
```

### 3. åŸŸåæ— æ³•è§£æž
- æ£€æŸ¥DNSè®¾ç½®æ˜¯å¦æ­£ç¡®
- ä½¿ç”¨ `nslookup` æˆ– `dig` å‘½ä»¤æ£€æŸ¥DNSè®°å½•
- ç¡®è®¤åŸŸåå·²æ­£ç¡®æŒ‡å‘æœåŠ¡å™¨IP

## ðŸ“ž è…¾è®¯äº‘æŠ€æœ¯æ”¯æŒ

å¦‚æžœæ‚¨åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹è…¾è®¯äº‘å®˜æ–¹æ–‡æ¡£
2. è”ç³»è…¾è®¯äº‘æŠ€æœ¯æ”¯æŒï¼ˆ7Ã—24å°æ—¶ï¼‰
3. æäº¤å·¥å•èŽ·å–å¸®åŠ©

---

## ðŸŽ‰ éƒ¨ç½²å®Œæˆï¼

æ­å–œæ‚¨å·²ç»æˆåŠŸå°†Trae.aiæŽ¨å¹¿ç½‘ç«™éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ï¼

### ä¸‹ä¸€æ­¥å»ºè®®ï¼š

1. **è®¿é—®æ‚¨çš„ç½‘ç«™**ï¼šhttp://your-domain.com
2. **é…ç½®ç›‘æŽ§å‘Šè­¦**ï¼šè®¾ç½®æœåŠ¡å™¨æ€§èƒ½ç›‘æŽ§
3. **å¤‡ä»½æ•°æ®**ï¼šå®šæœŸå¤‡ä»½ç½‘ç«™æ–‡ä»¶
4. **ä¼˜åŒ–SEO**ï¼šæäº¤åˆ°æœç´¢å¼•æ“Žæ”¶å½•

çŽ°åœ¨æ‚¨çš„Trae.aiæŽ¨å¹¿ç½‘ç«™å·²ç»å¯ä»¥å¼€å§‹ä¸ºç”¨æˆ·æœåŠ¡äº†ï¼