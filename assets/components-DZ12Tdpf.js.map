{"version":3,"file":"components-DZ12Tdpf.js","sources":["../../src/js/components.js"],"sourcesContent":["// 加载状态管理\nexport function showLoading() {\n    const loading = document.createElement('div');\n    loading.className = 'loading-container';\n    loading.innerHTML = '<div class=\"loading-spinner\"></div>';\n    document.body.appendChild(loading);\n    \n    // 强制回流后添加 show 类，以触发动画\n    loading.offsetHeight;\n    loading.classList.add('show');\n}\n\nexport function hideLoading() {\n    const loading = document.querySelector('.loading-container');\n    if (loading) {\n        loading.classList.remove('show');\n        setTimeout(() => {\n            loading.remove();\n        }, 300);\n    }\n}\n\n// 通知函数\nexport function showNotification(message, type = 'info') {\n    const notification = document.createElement('div');\n    notification.className = `notification ${type}`;\n    notification.textContent = message;\n    \n    document.body.appendChild(notification);\n    \n    // 动画效果\n    setTimeout(() => {\n        notification.classList.add('show');\n    }, 10);\n    \n    // 自动关闭\n    setTimeout(() => {\n        notification.classList.remove('show');\n        setTimeout(() => {\n            notification.remove();\n        }, 300);\n    }, 3000);\n}\n\n// 组件管理器\nclass ComponentManager {\n    constructor() {\n        this.init();\n    }\n    \n    init() {\n        this.initModals();\n        this.initTooltips();\n        this.initTags();\n        this.initAccordions();\n        this.initAlerts();\n        this.initFileUpload();\n        this.initRating();\n        this.initPagination();\n    }\n    \n    // 模态框\n    initModals() {\n        document.querySelectorAll('[data-modal-target]').forEach(trigger => {\n            trigger.addEventListener('click', () => {\n                const modal = document.querySelector(trigger.dataset.modalTarget);\n                this.openModal(modal);\n            });\n        });\n        \n        document.querySelectorAll('.modal-close').forEach(close => {\n            close.addEventListener('click', () => {\n                const modal = close.closest('.modal');\n                this.closeModal(modal);\n            });\n        });\n        \n        document.querySelectorAll('.modal').forEach(modal => {\n            modal.addEventListener('click', e => {\n                if (e.target === modal) {\n                    this.closeModal(modal);\n                }\n            });\n        });\n    }\n    \n    openModal(modal) {\n        if (modal) {\n            modal.classList.add('show');\n            document.body.style.overflow = 'hidden';\n        }\n    }\n    \n    closeModal(modal) {\n        if (modal) {\n            modal.classList.remove('show');\n            document.body.style.overflow = '';\n        }\n    }\n    \n    // 工具提示\n    initTooltips() {\n        document.querySelectorAll('[data-tooltip]').forEach(element => {\n            const tooltip = document.createElement('div');\n            tooltip.className = 'tooltip-content';\n            tooltip.textContent = element.dataset.tooltip;\n            element.appendChild(tooltip);\n        });\n    }\n    \n    // 标签\n    initTags() {\n        document.querySelectorAll('.tag').forEach(tag => {\n            const closeBtn = tag.querySelector('.tag-close');\n            if (closeBtn) {\n                closeBtn.addEventListener('click', () => {\n                    tag.remove();\n                });\n            }\n        });\n    }\n    \n    // 折叠面板\n    initAccordions() {\n        document.querySelectorAll('.accordion-header').forEach(header => {\n            header.addEventListener('click', () => {\n                const item = header.parentElement;\n                const isActive = item.classList.contains('active');\n                \n                // 关闭其他面板\n                if (item.dataset.single !== undefined) {\n                    item.closest('.accordion')\n                        .querySelectorAll('.accordion-item')\n                        .forEach(i => i.classList.remove('active'));\n                }\n                \n                item.classList.toggle('active', !isActive);\n            });\n        });\n    }\n    \n    // 警告框\n    initAlerts() {\n        document.querySelectorAll('.alert').forEach(alert => {\n            const closeBtn = alert.querySelector('.alert-close');\n            if (closeBtn) {\n                closeBtn.addEventListener('click', () => {\n                    alert.style.height = alert.offsetHeight + 'px';\n                    alert.style.opacity = '1';\n                    \n                    requestAnimationFrame(() => {\n                        alert.style.height = '0';\n                        alert.style.opacity = '0';\n                        alert.style.margin = '0';\n                        alert.style.padding = '0';\n                    });\n                    \n                    alert.addEventListener('transitionend', () => {\n                        alert.remove();\n                    }, { once: true });\n                });\n            }\n        });\n    }\n    \n    // 文件上传\n    initFileUpload() {\n        document.querySelectorAll('.file-upload').forEach(upload => {\n            const input = upload.querySelector('input[type=\"file\"]');\n            \n            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\n                upload.addEventListener(eventName, preventDefaults, false);\n            });\n            \n            function preventDefaults(e) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            \n            ['dragenter', 'dragover'].forEach(eventName => {\n                upload.addEventListener(eventName, () => {\n                    upload.classList.add('dragover');\n                });\n            });\n            \n            ['dragleave', 'drop'].forEach(eventName => {\n                upload.addEventListener(eventName, () => {\n                    upload.classList.remove('dragover');\n                });\n            });\n            \n            upload.addEventListener('drop', e => {\n                const files = e.dataTransfer.files;\n                if (input) {\n                    input.files = files;\n                    input.dispatchEvent(new Event('change'));\n                }\n            });\n        });\n    }\n    \n    // 评分\n    initRating() {\n        document.querySelectorAll('.rating').forEach(rating => {\n            const stars = rating.querySelectorAll('.rating-star');\n            const input = rating.querySelector('input[type=\"hidden\"]');\n            \n            stars.forEach((star, index) => {\n                star.addEventListener('click', () => {\n                    const value = index + 1;\n                    stars.forEach((s, i) => {\n                        s.classList.toggle('active', i < value);\n                    });\n                    if (input) {\n                        input.value = value;\n                        input.dispatchEvent(new Event('change'));\n                    }\n                });\n            });\n        });\n    }\n    \n    // 分页\n    initPagination() {\n        document.querySelectorAll('.pagination').forEach(pagination => {\n            const items = pagination.querySelectorAll('.page-item');\n            items.forEach(item => {\n                item.addEventListener('click', () => {\n                    if (!item.classList.contains('disabled')) {\n                        items.forEach(i => i.classList.remove('active'));\n                        item.classList.add('active');\n                    }\n                });\n            });\n        });\n    }\n}\n\n// 初始化组件\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.componentManager = new ComponentManager();\n});\n"],"names":["showLoading","loading","document","createElement","className","innerHTML","body","appendChild","offsetHeight","classList","add","hideLoading","querySelector","remove","setTimeout","showNotification","message","type","notification","textContent","ComponentManager","constructor","this","init","initModals","initTooltips","initTags","initAccordions","initAlerts","initFileUpload","initRating","initPagination","querySelectorAll","forEach","trigger","addEventListener","modal","dataset","modalTarget","openModal","close","closest","closeModal","e","target","style","overflow","element","tooltip","tag","closeBtn","header","item","parentElement","isActive","contains","single","i","toggle","alert","height","opacity","requestAnimationFrame","margin","padding","once","upload","input","preventDefaults","preventDefault","stopPropagation","eventName","files","dataTransfer","dispatchEvent","Event","rating","stars","star","index","value","s","pagination","items","window","componentManager"],"mappings":"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"}